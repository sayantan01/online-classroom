(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{142:function(e,t,s){},212:function(e,t,s){},218:function(e,t,s){"use strict";s.r(t);var c=s(0),r=s(16),n=s.n(r),a=(s(142),s(2)),i=s(13),l=s(54),o=s(246),j=(s(143),s(125)),d=s(247),b=s(245),u=s(248),h=s(17),m=s(241),O=s(242),x=s(250),p=s(1);var g=function(){return Object(p.jsxs)("div",{className:"container-fluid text-center",style:{backgroundColor:"#1b1b1b"},children:[Object(p.jsx)("h1",{id:"title",className:"text-center py-2",children:"M Classroom - Give learning a new dimension"}),Object(p.jsx)(m.a,{variant:"primary",children:Object(p.jsx)("a",{href:"/dashboard",style:{color:"white"},children:"Get Started Here"})}),Object(p.jsx)(O.a,{xl:3,lg:2,md:2,sm:1,children:Object(p.jsxs)(x.a,{style:{width:800,height:500,margin:"auto",marginTop:50},children:[Object(p.jsx)(x.a.Item,{children:Object(p.jsx)("img",{className:"d-block w-100",src:"./homepage1.jpg",alt:"Third slide"})}),Object(p.jsx)(x.a.Item,{children:Object(p.jsx)("img",{className:"d-block w-100",src:"./homepage2.png",alt:"First slide"})}),Object(p.jsx)(x.a.Item,{children:Object(p.jsx)("img",{className:"d-block w-100",src:"./homepage3.jpg",alt:"Second slide"})})]})})]})},f=s(11),v=s(48),y=s.n(v),k=s(243),w=s(80),N=s(62);var C=Object(h.b)((function(e){return{token:e.token,errors:e.msg}}))(Object(i.g)((function(e){var t=Object(c.useState)({name:"",email:"",password:"",usertype:""}),s=Object(f.a)(t,2),r=s[0],n=s[1],l=Object(c.useState)(!1),o=Object(f.a)(l,2),j=o[0],d=o[1],b=Object(c.useState)(""),u=Object(f.a)(b,2),h=u[0],m=u[1],O=Object(c.useState)(0),x=Object(f.a)(O,2),g=x[0],v=x[1],C=1===g?N.a:N.b,T=function(e){e.persist(),n((function(t){return Object(a.a)(Object(a.a)({},t),{},{usertype:e.target.value})}))};return Object(p.jsxs)("div",{className:"container",children:[null!==e.token&&Object(p.jsx)(i.a,{to:"/dashboard"}),!1===j&&h&&Object(p.jsx)(k.a,{variant:"warning",onClose:function(){return m("")},dismissible:!0,children:h}),j&&Object(p.jsx)(k.a,{variant:"success",onClose:function(){return d(!1)},dismissible:!0,children:Object(p.jsxs)("p",{children:["Successfully registered. You can Now ",Object(p.jsx)("a",{href:"/login",children:"Login here"})]})}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:r.name,email:r.email,password:r.password,usertype:r.usertype};y.a.post("api/user/signup",t).then((function(e){console.log("User registered successfully!"),d(!0)})).catch((function(e){console.log(e),500!==e.response.status?m(e.response.data.msg):m("Internal server error")}))},children:[Object(p.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto text-center my-4",children:Object(p.jsx)("h2",{className:"form-title",children:"Create Account"})}),Object(p.jsxs)("div",{className:"d-grid gap-2 col-6 mx-auto my-3",children:[Object(p.jsxs)("label",{children:["Name",Object(p.jsx)("sup",{style:{color:"red"},children:"*"})]}),Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter your name",value:r.name,onChange:function(e){e.persist(),n((function(t){return Object(a.a)(Object(a.a)({},t),{},{name:e.target.value})}))},required:!0})]}),Object(p.jsxs)("div",{className:"d-grid gap-2 col-6 mx-auto my-3",children:[Object(p.jsxs)("label",{children:["Email",Object(p.jsx)("sup",{style:{color:"red"},children:"*"})]}),Object(p.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter your email ID",value:r.email,onChange:function(e){e.persist(),n((function(t){return Object(a.a)(Object(a.a)({},t),{},{email:e.target.value})}))},required:!0})]}),Object(p.jsxs)("div",{className:"d-grid gap-2 col-6 mx-auto my-3",children:[Object(p.jsxs)("label",{children:["Password",Object(p.jsx)("sup",{style:{color:"red"},children:"*"})]}),Object(p.jsxs)("div",{className:"input-group",children:[Object(p.jsx)("span",{className:"input-group-text",children:Object(p.jsx)(w.a,{icon:C,onClick:function(e){return v(1-g)}})}),Object(p.jsx)("input",{type:0===g?"password":"text",className:"form-control",placeholder:"Password",value:r.password,onChange:function(e){e.persist(),n((function(t){return Object(a.a)(Object(a.a)({},t),{},{password:e.target.value})}))}})]})]}),Object(p.jsxs)("div",{className:"d-grid gap-2 col-6 mx-auto my-3",children:[Object(p.jsxs)("label",{children:["Role",Object(p.jsx)("sup",{style:{color:"red"},children:"*"})]}),Object(p.jsxs)("div",{className:"form-check",children:[Object(p.jsx)("input",{className:"form-check-input",type:"radio",name:"role",id:"teacher",value:"teacher",onChange:T}),Object(p.jsx)("label",{className:"form-check-label",children:"Faculty"})]}),Object(p.jsxs)("div",{className:"form-check",children:[Object(p.jsx)("input",{className:"form-check-input",type:"radio",name:"role",id:"student",value:"student",onChange:T}),Object(p.jsx)("label",{className:"form-check-label",children:"Student"})]})]}),Object(p.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",children:Object(p.jsx)("input",{type:"submit",className:"btn btn-success",value:"Signup",disabled:0===r.email.length||0===r.name.length||0===r.password.length||0===r.usertype.length})})]}),Object(p.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto my-4 text-center",children:Object(p.jsxs)("p",{children:["Already have an account?"," ",Object(p.jsx)("a",{href:"/login",className:"link-primary",children:"Login here"})]})})]})}))),T=s(31),S=s.n(T),E=s(63),_="LOGIN_USER",D="LOGOUT_USER",I="UPDATE_CLASSROOM",L="RECEIVE_ERROR",A="RESET_ERROR",R=function(e,t,s,c){return{type:_,token:e,email:t,isTeacher:s,classrooms:c}},B=function(e){return{type:I,classrooms:e}},P=function(){return{type:D}},U=function(e){return{type:L,msg:e}},z=function(){return{type:A}};var H=Object(h.b)((function(e){return{token:e.token,errors:e.msg}}))((function(e){var t=Object(c.useState)({email:"",password:""}),s=Object(f.a)(t,2),r=s[0],n=s[1],l=Object(c.useState)(!1),o=Object(f.a)(l,2),j=o[0],d=o[1],b=Object(c.useState)(0),u=Object(f.a)(b,2),h=u[0],m=u[1],O=1===h?N.a:N.b;return Object(p.jsxs)("div",{className:"container",children:[null!==e.token&&Object(p.jsx)(i.a,{to:"/dashboard"}),j&&e.errors&&Object(p.jsx)(k.a,{variant:"warning",onClose:function(){return d(!1)},dismissible:!0,children:e.errors}),Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault();var s,c={email:r.email,password:r.password};e.dispatch((s=c,function(){var e=Object(E.a)(S.a.mark((function e(t){var c,r,n,a,i,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(z()),e.next=4,y.a.post("api/user/login",s);case 4:return c=e.sent,r=c.data,n=r.token,a=r.email,i=r.isTeacher,l=r.classrooms,e.abrupt("return",t(R(n,a,i,l)));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",t(U(e.t0.response.data.msg)));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),d(!0)},children:[Object(p.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto text-center my-4",children:Object(p.jsx)("h2",{className:"form-title",children:"Login"})}),Object(p.jsxs)("div",{className:"d-grid gap-2 col-6 mx-auto my-3",children:[Object(p.jsxs)("label",{children:["Email",Object(p.jsx)("sup",{style:{color:"red"},children:"*"})]}),Object(p.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter your email ID",value:r.email,onChange:function(e){e.persist(),n((function(t){return Object(a.a)(Object(a.a)({},t),{},{email:e.target.value})}))},required:!0})]}),Object(p.jsxs)("div",{className:"d-grid gap-2 col-6 mx-auto my-3",children:[Object(p.jsxs)("label",{children:["Password",Object(p.jsx)("sup",{style:{color:"red"},children:"*"})]}),Object(p.jsxs)("div",{className:"input-group",children:[Object(p.jsx)("span",{className:"input-group-text",children:Object(p.jsx)(w.a,{icon:O,onClick:function(e){return m(1-h)}})}),Object(p.jsx)("input",{type:0===h?"password":"text",className:"form-control",placeholder:"Password",value:r.password,onChange:function(e){e.persist(),n((function(t){return Object(a.a)(Object(a.a)({},t),{},{password:e.target.value})}))},required:!0})]})]}),Object(p.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto my-3",children:Object(p.jsx)("input",{type:"submit",className:"btn btn-success",value:"Login",disabled:0===r.email.length||0===r.password.length})})]}),Object(p.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto my-4 text-center",children:Object(p.jsxs)("p",{children:["Don't have an account?"," ",Object(p.jsx)("a",{href:"/signup",className:"link-primary",children:"Create an account here"})]})})]})}));var q=Object(h.b)((function(e){return{}}))((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)("form",{method:"POST",onSubmit:function(t){t.preventDefault(),e.dispatch(P())},children:Object(p.jsx)("button",{type:"submit",className:"btn btn-success mx-lg-2",children:"Logout"})})})})),F=s(244),J=s(249),M=s(251),W=s(82);function G(e){var t=e.props,s=Object(c.useState)(!1),r=Object(f.a)(s,2),n=r[0],a=r[1],i=Object(c.useState)(""),l=Object(f.a)(i,2),o=l[0],j=l[1],d=Object(c.useState)(!1),b=Object(f.a)(d,2),u=b[0],h=b[1],x=Object(c.useState)(0),g=Object(f.a)(x,2),v=g[0],w=g[1],N=function(){return a(!1)};return Object(p.jsxs)("div",{children:[u&&t.errors&&Object(p.jsx)(k.a,{variant:"warning",onClose:function(){return h(!1)},dismissible:!0,children:t.errors}),u&&!t.errors&&t.classrooms.length>v&&Object(p.jsx)(k.a,{variant:"success",onClose:function(){return h(!1)},dismissible:!0,children:t.isTeacher?"Successfully created classroom":"Successfully joined classroom"}),Object(p.jsxs)(O.a,{className:"my-3",children:[Object(p.jsx)(F.a,{md:8,children:Object(p.jsx)("h1",{children:"Your Classrooms"})}),Object(p.jsx)(F.a,{md:4,children:Object(p.jsx)(m.a,{variant:"primary",onClick:function(){return a(!0)},children:t.isTeacher?"+ Create Classroom":"+ Join Classroom"})})]}),Object(p.jsx)("p",{style:{color:"red"},children:t.isTeacher?"* To let the students join a classroom, share the classroom's passcode with them":"* To join a classroom, click on the button and enter the passcode shared by your teacher"}),Object(p.jsxs)(J.a,{show:n,onHide:N,children:[Object(p.jsx)(J.a.Header,{closeButton:!0,children:Object(p.jsx)(J.a.Title,{children:t.isTeacher?"Create new classroom":"Join a classroom"})}),Object(p.jsxs)(J.a.Body,{children:[t.isTeacher?"Classroom name:":"Passcode",Object(p.jsx)("br",{}),Object(p.jsx)("input",{style:{marginTop:10},type:"text",placeholder:t.isTeacher?"Enter classroom name":"Enter passcode",value:o,onChange:function(e){e.persist(),j(e.target.value)},required:!0})]}),Object(p.jsxs)(J.a.Footer,{children:[Object(p.jsx)(m.a,{variant:"secondary",onClick:N,children:"Close"}),Object(p.jsx)(m.a,{variant:"primary",onClick:function(){a(!1);var e,s={token:t.token,isTeacher:t.isTeacher};t.isTeacher?s.name=o:s.passcode=o,h(!0),w(t.classrooms.length),t.dispatch((e=s,function(){var t=Object(E.a)(S.a.mark((function t(s){var c,r,n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(z()),c={},e.isTeacher?c.name=e.name:c.passcode=e.passcode,r=e.isTeacher?"/api/classroom/create":"/api/classroom/join",t.next=7,y.a.post(r,c,{headers:{Authorization:"Bearer "+e.token}});case 7:return n=t.sent,t.abrupt("return",s(B(n.data.classrooms)));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",s(U(t.t0.response.data.msg)));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()))},disabled:""===o,children:t.isTeacher?"Create":"Join"})]})]})]})}function Y(e){return Object(p.jsx)(F.a,{className:"ClassIcon",children:Object(p.jsxs)(M.a,{bg:"success",border:"primary",style:{width:350,height:350,margin:20},children:[Object(p.jsx)(M.a.Img,{variant:"top",src:"./classroom.png",alt:"Icon"}),Object(p.jsxs)(M.a.Body,{className:"text-wrap",children:[Object(p.jsx)(M.a.Title,{style:{color:"white",fontWeight:"bold"},children:Object(p.jsxs)(O.a,{children:[Object(p.jsx)(F.a,{xs:8,children:e.classroom_name}),Object(p.jsx)(F.a,{xs:4,children:Object(p.jsx)(m.a,{variant:"danger",children:Object(p.jsx)("a",{href:"/classrooms/".concat(e.id),style:{color:"white"},children:"Enter"})})})]})}),Object(p.jsxs)(M.a.Text,{style:{color:"orange",fontWeight:"bold"},children:[!1===e.isTeacher&&Object(p.jsxs)("label",{children:["Created by: ",e.teacher_name]}),Object(p.jsx)("br",{}),!0===e.isTeacher&&Object(p.jsxs)("label",{children:["Passcode:"," ",Object(p.jsx)("label",{style:{fontSize:12},children:e.passcode})]})]})]})]})})}var V=Object(h.b)((function(e){return{token:e.token,classrooms:e.classrooms,isTeacher:e.isTeacher,errors:e.msg}}))((function(e){return Object(p.jsxs)(b.a,{children:[null===e.token&&Object(p.jsx)(i.a,{to:"/Login"}),Object(p.jsx)(W.a,{children:Object(p.jsx)("style",{children:"body { background-color: whitesmoke; }"})}),Object(p.jsx)(G,{props:e}),e.classrooms&&0===e.classrooms.length&&Object(p.jsx)("div",{className:"text-center my-5",children:Object(p.jsx)("h5",{style:{color:"gray"},children:"You don't have any classrooms yet"})}),e.classrooms&&0!==e.classrooms.length&&Object(p.jsx)(O.a,{xl:3,lg:2,md:2,sm:1,children:function(){if(void 0!==e.classrooms&&null!==e.classrooms)return e.classrooms.slice(0).reverse().map((function(t,s){return Object(p.jsx)(Y,{id:e.classrooms.length-1-s,classroom_name:t.name,teacher_name:t.creator,passcode:t.passcode,isTeacher:e.isTeacher},e.classrooms.length-1-s)}))}()})]})}));var K=Object(h.b)((function(e){return{email:e.email}}))((function(e){return Object(p.jsx)("div",{children:Object(p.jsxs)("p",{style:{color:"white"},className:"mx-lg-5 my-2",children:["Hello ",e.email.split("@")[0]]})})})),Q=s(88),X=s.n(Q),Z=s(134);s(170);function $(e){var t=e.props,s=Object(c.useState)({title:"",statement:"",deadline:new Date}),r=Object(f.a)(s,2),n=r[0],i=r[1],l=Object(c.useState)(!1),o=Object(f.a)(l,2),j=o[0],d=o[1],b=Object(c.useState)(!1),u=Object(f.a)(b,2),h=u[0],x=u[1],g=Object(c.useState)(0),v=Object(f.a)(g,2),w=v[0],N=v[1],C=function(){return d(!1)};return Object(p.jsxs)("div",{children:[h&&t.errors&&Object(p.jsx)(k.a,{variant:"warning",onClose:function(){return x(!1)},dismissible:!0,children:t.errors}),h&&!t.errors&&t.assignments.length>w&&Object(p.jsx)(k.a,{variant:"success",onClose:function(){return x(!1)},dismissible:!0,children:"Successfully created assignment"}),Object(p.jsxs)(O.a,{className:"my-3",children:[Object(p.jsx)(F.a,{md:8,children:Object(p.jsxs)("h1",{children:["Classroom: ",t.name]})}),Object(p.jsx)(F.a,{md:4,children:!0===t.isTeacher&&Object(p.jsx)(m.a,{variant:"primary",onClick:function(){return d(!0)},children:"+ Create Assignment"})})]}),Object(p.jsx)("p",{style:{color:"red"},children:t.isTeacher?"* The assignments you create will appear here":"Created by: ".concat(t.creator)}),Object(p.jsxs)(J.a,{show:j,onHide:C,children:[Object(p.jsx)(J.a.Header,{closeButton:!0,children:Object(p.jsx)(J.a.Title,{children:"Create new assignment"})}),Object(p.jsx)(J.a.Body,{children:Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{className:"d-grid gap-2 col-8 mx-auto my-3",children:[Object(p.jsxs)("label",{children:["Assignment Title",Object(p.jsx)("sup",{style:{color:"red"},children:"*"})]}),Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"Title of the assignment",value:n.title,onChange:function(e){e.persist(),i((function(t){return Object(a.a)(Object(a.a)({},t),{},{title:e.target.value})}))}})]}),Object(p.jsxs)("div",{className:"d-grid gap-2 col-8 mx-auto my-3",children:[Object(p.jsxs)("label",{children:["Statement",Object(p.jsx)("sup",{style:{color:"red"},children:"*"})]}),Object(p.jsx)("div",{className:"input-group",children:Object(p.jsx)("textarea",{className:"form-control",placeholder:"Enter the problem statement",value:n.statement,onChange:function(e){e.persist(),i((function(t){return Object(a.a)(Object(a.a)({},t),{},{statement:e.target.value})}))}})})]}),Object(p.jsxs)("div",{className:"d-grid gap-2 col-8 mx-auto my-3",children:[Object(p.jsxs)("label",{children:["Deadline",Object(p.jsx)("sup",{style:{color:"red"},children:"*"})]}),Object(p.jsx)(X.a,{locale:"enIN",dateFormat:"dd/MM/yyyy",selected:n.deadline,onChange:function(e){i((function(t){return Object(a.a)(Object(a.a)({},t),{},{deadline:e})}))}})]})]})}),Object(p.jsxs)(J.a.Footer,{children:[Object(p.jsx)(m.a,{variant:"secondary",onClick:C,children:"Close"}),Object(p.jsx)(m.a,{variant:"primary",onClick:function(){d(!1);var e,s=n;s.token=t.token,s.classroom_id=t.classroom_id,x(!0),N(t.assignments.length),t.dispatch((e=s,function(){var t=Object(E.a)(S.a.mark((function t(s){var c,r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(z()),c={title:e.title,statement:e.statement,deadline:e.deadline,classroom_id:e.classroom_id},t.next=6,y.a.post("/api/assignment/create",c,{headers:{Authorization:"Bearer "+e.token}});case 6:return r=t.sent,t.abrupt("return",s(B(r.data.classrooms)));case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",s(U(t.t0.response.data.msg)));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))},disabled:""===n.title||""===n.statement||""===n.deadline,children:"Upload"})]})]})]})}function ee(e){return Object(p.jsx)(F.a,{className:"AssignmentIcon",children:Object(p.jsxs)(M.a,{bg:"success",border:"primary",style:{width:350,height:350,margin:20},children:[Object(p.jsx)(M.a.Img,{variant:"top",src:"../assignment.jpg",alt:"Icon"}),Object(p.jsxs)(M.a.Body,{children:[Object(p.jsx)(M.a.Title,{style:{color:"white",fontWeight:"bold"},children:Object(p.jsxs)(O.a,{children:[Object(p.jsx)(F.a,{xs:8,children:e.title}),Object(p.jsx)(F.a,{xs:4,children:Object(p.jsx)(m.a,{variant:"danger",children:Object(p.jsx)("a",{href:"/classrooms/".concat(e.cid,"/").concat(e.aid),style:{color:"white"},children:"Open"})})})]})}),Object(p.jsxs)(M.a.Text,{style:{color:"orange",fontWeight:"bold"},children:[!1===e.isTeacher&&Object(p.jsxs)("label",{className:"my-3",children:["Due date: ",e.deadline]}),Object(p.jsx)("br",{}),!0===e.isTeacher&&Object(p.jsxs)("label",{children:["Created at: ",e.createdAt]})]})]})]})})}function te(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.id}),Object(p.jsx)("td",{children:e.email})]})}function se(e){var t=e.props;return Object(p.jsxs)("div",{className:"my-3",children:[Object(p.jsx)("h5",{children:"Participants List"}),Object(p.jsxs)("table",{className:"table table-light table-striped my-3",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Sl No."}),Object(p.jsx)("td",{children:"Email ID"})]})}),Object(p.jsx)("tbody",{children:t.students.map((function(e,t){return Object(p.jsx)(te,{id:t+1,email:e},t)}))})]})]})}Object(Q.registerLocale)("enIN",Z.a);var ce=Object(h.b)((function(e){return{token:e.token,isTeacher:e.isTeacher,errors:e.msg}}))((function(e){return Object(p.jsxs)(b.a,{children:[null===e.token&&Object(p.jsx)(i.a,{to:"/Login"}),Object(p.jsx)(W.a,{children:Object(p.jsx)("style",{children:"body { background-color: whitesmoke; }"})}),Object(p.jsx)($,{props:e}),e.assignments&&0===e.assignments.length&&Object(p.jsx)("div",{className:"text-center my-5",children:Object(p.jsx)("h5",{style:{color:"gray"},children:"Classroom assignments will show up here"})}),e.assignments&&0!==e.assignments.length&&Object(p.jsx)(O.a,{xl:3,lg:2,md:2,sm:1,children:function(){if(void 0!==e.assignments&&null!==e.assignments)return e.assignments.slice(0).reverse().map((function(t,s){return Object(p.jsx)(ee,{cid:e.id,aid:e.assignments.length-1-s,title:t.title,deadline:t.deadline.slice(0,10),createdAt:t.createdAt,isTeacher:e.isTeacher},e.assignments.length-1-s)}))}()}),Object(p.jsx)(O.a,{xl:3,children:Object(p.jsx)(se,{props:e})})]})}));function re(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.id}),Object(p.jsx)("td",{children:e.student}),Object(p.jsx)("td",{children:Object(p.jsx)(m.a,{variant:"warning",onClick:function(){var t=document.createElement("a"),s=new Blob([e.submission],{type:"text/plain"});t.href=URL.createObjectURL(s),t.download="".concat(e.student,".txt"),document.body.appendChild(t),t.click()},children:"Download Submission"})})]})}function ne(e){var t=e.props;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h5",{children:"Submissions"}),Object(p.jsxs)("table",{className:"table table-light table-striped my-3",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Sl No."}),Object(p.jsx)("td",{children:"Student"}),Object(p.jsx)("td",{children:"Submission"})]})}),Object(p.jsx)("tbody",{children:t.records.map((function(e,t){return Object(p.jsx)(re,{id:t+1,student:e.student,submission:e.submission},t)}))})]})]})}var ae=Object(h.b)((function(e){return{token:e.token,email:e.email,isTeacher:e.isTeacher,curDate:new Date(Date.now()).toISOString().slice(0,10),errors:e.msg}}))((function(e){var t=e.records.find((function(t){return t.student===e.email})),s=Object(c.useState)(""),r=Object(f.a)(s,2),n=r[0],a=r[1],l=Object(c.useState)(!1),o=Object(f.a)(l,2),j=o[0],d=o[1];return Object(p.jsxs)(b.a,{style:{backgroundColor:"whitesmoke"},children:[null===e.token&&Object(p.jsx)(i.a,{to:"/Login"}),j&&Object(p.jsx)(k.a,{variant:"success",onClose:function(){return d(!1)},dismissible:!0,children:"Successfully submitted assignment"}),Object(p.jsxs)(O.a,{className:"my-5 pt-3",children:[Object(p.jsx)(F.a,{md:6,children:Object(p.jsxs)("h3",{children:["Assignment: ",e.title]})}),Object(p.jsx)(F.a,{md:4,children:Object(p.jsxs)("h6",{children:[e.curDate<=e.deadline&&!t&&Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Deadline:"})," ",e.deadline]}),e.curDate>e.deadline&&!t&&Object(p.jsx)("p",{style:{color:"red"},children:"Deadline over"}),t&&Object(p.jsx)("p",{style:{color:"green"},children:"Submitted"})]})})]}),Object(p.jsx)(O.a,{className:"my-5",children:Object(p.jsxs)(F.a,{md:10,children:[Object(p.jsx)("hr",{}),Object(p.jsx)("pre",{children:e.statement}),Object(p.jsx)("hr",{})]})}),!1===e.isTeacher&&(t||e.curDate<=e.deadline)&&Object(p.jsxs)("div",{children:[Object(p.jsxs)(O.a,{className:"my-5",children:[Object(p.jsx)("label",{className:"mb-3",children:"Your submission :"}),Object(p.jsx)(F.a,{md:10,children:Object(p.jsx)("textarea",{placeholder:"Write your answer here",className:"col-sm-12",rows:"10",value:t?t.submission:n,disabled:!!t,onChange:function(e){e.persist(),a(e.target.value)}})})]}),!t&&Object(p.jsx)(O.a,{className:"my-5",children:Object(p.jsx)(m.a,{onClick:function(t){var s,c={answer:n,token:e.token,email:e.email,assignment_id:e.assignment_id};d(!0),e.dispatch((s=c,function(){var e=Object(E.a)(S.a.mark((function e(t){var c,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(z()),c={answer:s.answer,email:s.email,assignment_id:s.assignment_id},e.next=6,y.a.post("/api/assignment/submit",c,{headers:{Authorization:"Bearer "+s.token}});case 6:return r=e.sent,e.abrupt("return",t(B(r.data.classrooms)));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",t(U(e.t0.response.data.msg)));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},variant:"success",disabled:""===n,children:"Submit answer"})})]}),!0===e.isTeacher&&Object(p.jsx)(ne,{props:e})]})}));var ie=Object(h.b)((function(e){return{token:e.token}}))((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(m.a,{className:"my-2 my-lg-0",variant:"danger",onClick:function(t){var s;e.dispatch((s=e.token,function(){var e=Object(E.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(z()),e.next=5,y.a.get("/api/classroom/fetch",{headers:{Authorization:"Bearer "+s}});case 5:return c=e.sent,e.abrupt("return",t(B(c.data.classrooms)));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",t(U("Error in fetching data")));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:"Update"})})}));var le=Object(h.b)((function(e){return{token:e.token}}))((function(e){return Object(p.jsxs)("div",{className:"container my-5",children:[null===e.token&&Object(p.jsx)(i.a,{to:"/Login"}),Object(p.jsx)("img",{className:"img-fluid mx-auto d-block",src:"https://www.prestashop.com/sites/default/files/styles/blog_750x320/public/blog/2019/10/banner_error_404.jpg?itok=eAS4swln",alt:"404 not found"})]})}));s(212);function oe(e){if(null!==e.classrooms)return e.classrooms.map((function(e,t){var s="/classrooms/"+t;return Object(p.jsx)(i.b,{exact:!0,path:s,render:function(s){return Object(p.jsx)(ce,Object(a.a)(Object(a.a)({},s),{},{id:t,classroom_id:e._id,name:e.name,creator:e.creator,students:e.students,assignments:e.assignments}))}},t)}))}function je(e){if(null!==e.classrooms)return e.classrooms.map((function(e,t){return e.assignments.map((function(e,s){var c="/classrooms/"+t+"/"+s;return Object(p.jsx)(i.b,{exact:!0,path:c,render:function(t){return Object(p.jsx)(ae,Object(a.a)(Object(a.a)({},t),{},{id:s,assignment_id:e._id,title:e.title,statement:e.statement,createdAt:e.createdAt,deadline:e.deadline.slice(0,10),records:e.records}))}},s)}))}))}var de=Object(h.b)((function(e){return{token:e.token,classrooms:e.classrooms}}))((function(e){return Object(c.useEffect)((function(){try{Object(j.a)(e.token).exp<Date.now()/1e3&&e.dispatch(P())}catch(t){console.log("no token")}}),[e]),Object(p.jsxs)("div",{children:[Object(p.jsx)(d.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(p.jsxs)(b.a,{children:[Object(p.jsx)(d.a.Brand,{href:"/home",children:"M Classroom"}),Object(p.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(p.jsxs)(u.a,{className:"mr-auto",children:[Object(p.jsx)(u.a.Link,{href:"/signup",children:"Signup"}),Object(p.jsx)(u.a.Link,{href:"/login",children:"Login"}),Object(p.jsx)(u.a.Link,{href:"/dashboard",children:"Classrooms"}),null!==e.token&&Object(p.jsx)(u.a.Item,{children:Object(p.jsx)(K,{})}),null!==e.token&&Object(p.jsx)(q,{}),null!==e.token&&Object(p.jsx)(o.a,{title:Object(p.jsx)("p",{style:{fontSize:15},children:"fetch the latest data from server"}),children:Object(p.jsx)("div",{children:Object(p.jsx)(ie,{})})})]})})]})}),Object(p.jsx)(l.a,{children:Object(p.jsxs)(i.d,{children:[Object(p.jsx)(i.b,{exact:!0,path:"/",component:g}),Object(p.jsx)(i.b,{exact:!0,path:"/home",component:g}),Object(p.jsx)(i.b,{exact:!0,path:"/signup",component:C}),Object(p.jsx)(i.b,{exact:!0,path:"/login",component:H}),Object(p.jsx)(i.b,{exact:!0,path:"/dashboard",component:V}),oe(e),je(e),Object(p.jsx)(i.b,{component:le})]})})]})})),be=s(53),ue={token:null,email:"",isTeacher:!1,msg:"",classrooms:null};var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case _:var s=Object(a.a)(Object(a.a)({},e),{},{token:t.token,email:t.email,isTeacher:t.isTeacher,classrooms:t.classrooms,msg:""});return s;case I:var c=Object(a.a)(Object(a.a)({},e),{},{classrooms:t.classrooms,msg:""});return c;case D:return ue;case L:return Object(a.a)(Object(a.a)({},e),{},{msg:t.msg});case A:return Object(a.a)(Object(a.a)({},e),{},{msg:""});default:return e}},me=s(132),Oe=s(113),xe=s(131),pe={key:"root",storage:s.n(xe).a},ge=Object(Oe.a)(pe,he),fe=Object(be.c)(ge,Object(be.a)(me.a)),ve=Object(Oe.b)(fe),ye=s(133);n.a.render(Object(p.jsx)(h.a,{store:fe,children:Object(p.jsx)(ye.a,{loading:null,persistor:ve,children:Object(p.jsx)(de,{})})}),document.getElementById("root"))}},[[218,1,2]]]);
//# sourceMappingURL=main.5ae76703.chunk.js.map