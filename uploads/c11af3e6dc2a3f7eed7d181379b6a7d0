#include<bits/stdc++.h>
#define endl "\n"
#define ll long long int
#define N (ll)(1e9+7)
#define T int
#define P pair<T,T>
#define umap unordered_map<T,T>
#define uset unordered_set<T>
#define rep(i,n) for(i=0;i<n;i++)
#define all(v) v.begin(),v.end()
#define print(v) for(auto x:v) cout<<x<< " "
#define pb push_back
using namespace std;

ll countsubmatrix(vector<vector<ll>> &v)
{
	ll m=v.size(),n=v[0].size();
	ll row,col,col1,col2;
	rep(row,m)
	{
		for(col=1;col<n;col++)
			v[row][col]=((v[row][col]%2+v[row][col-1]%2)%2+2)%2;
	}
	ll count=0;
	rep(col1,n)
	{
		for(col2=col1;col2<n;col2++)
		{
			ll modulo[2]={0,0};
			ll cursum=0;
			rep(row,m)
			{
				ll rowsum=v[row][col2];
				if(col1>0)
					rowsum=((rowsum%2-v[row][col1-1]%2)+2)%2;
				cursum=((cursum%2+rowsum%2)+2)%2;
				modulo[cursum]++;
			}
			count+=(modulo[0]*(modulo[0]+1))/2;
			count+=(modulo[1]*(modulo[1]-1))/2;
		}
	}
	return count;
}

int main()
{
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);
    
    int t=1;
    //cin>>t;
    while(t--)
    {
    	ll m,n;
    	cin>>m>>n;
    	vector<vector<ll>> v(m,vector<ll>(n,0));
    	ll i,j;
    	rep(i,m)
    	{
    		rep(j,n)
    			cin>>v[i][j];
    	}
    	cout<<countsubmatrix(v)<<endl;
    }

    return 0;
}